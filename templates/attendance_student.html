{% extends "base.html" %}

{% block title %}My Attendance - TimelyBuddy{% endblock %}

{% block content %}
<style>
    body {
        background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0.1)), url('https://static.vecteezy.com/system/resources/previews/021/756/697/non_2x/tiny-woman-cartoon-character-check-date-on-calendar-agenda-girl-use-pencil-make-note-plan-on-paper-memo-schedule-time-management-process-organization-concept-flat-illustration-vector.jpg') no-repeat center center fixed !important;
        background-size: cover !important;
        min-height: 100vh;
    }
    .modern-card {
        background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.2));
        backdrop-filter: blur(20px);
        border-radius: 20px;
        border: 1px solid rgba(255,255,255,0.3);
        box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
    .attendance-card {
        background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
        border-radius: 15px;
        border: 1px solid rgba(0,0,0,0.1);
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
</style>

<div class="row mb-4">
    <div class="col-12">
        <div class="card" style="background: white; border: none; box-shadow: 0 2px 10px rgba(0,0,0,0.1); border-radius: 10px;">
            <div class="card-body p-4">
                <h2 class="mb-1" style="color: #1e3a8a; font-weight: 700;">
                    <i class="fas fa-chart-bar me-2"></i>My Attendance
                </h2>
                <p class="mb-0" style="color: #6b7280;">View your attendance records</p>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="modern-card p-4">
            <h5 class="mb-4 fw-bold"><i class="fas fa-calendar-check me-2 text-success"></i>Attendance Records</h5>
            
            {% if attendance_records %}
                <div class="table-responsive">
                    <table class="table table-hover" style="background: rgba(255,255,255,0.9); border-radius: 15px; overflow: hidden;">
                        <thead style="background: linear-gradient(45deg, #3b82f6, #1d4ed8); color: white;">
                            <tr>
                                <th class="py-3 px-4">Date</th>
                                <th class="py-3 px-4">Subject</th>
                                <th class="py-3 px-4">Teacher</th>
                                <th class="py-3 px-4">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for record in attendance_records %}
                            <tr>
                                <td class="py-3 px-4">{{ record.date }}</td>
                                <td class="py-3 px-4">{{ record.subject_name }}</td>
                                <td class="py-3 px-4">{{ record.teacher_name }}</td>
                                <td class="py-3 px-4">
                                    {% if record.status == 'present' %}
                                        <span class="badge bg-success">Present</span>
                                    {% elif record.status == 'absent' %}
                                        <span class="badge bg-danger">Absent</span>
                                    {% elif record.status == 'late' %}
                                        <span class="badge bg-warning">Late</span>
                                    {% endif %}
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="text-center py-5">
                    <i class="fas fa-calendar-times fa-4x text-muted mb-3"></i>
                    <h5 class="text-muted">No attendance records found</h5>
                    <p class="text-muted">Your attendance records will appear here once marked by teachers</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}